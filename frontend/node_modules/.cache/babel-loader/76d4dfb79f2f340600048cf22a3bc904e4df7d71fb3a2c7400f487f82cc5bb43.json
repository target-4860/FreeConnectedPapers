{"ast":null,"code":"export default {\n  name: 'DetailPanel',\n  props: {\n    selectedItem: {\n      type: Object,\n      default: null\n    },\n    searchQuery: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      isGraphVisible: false\n    };\n  },\n  methods: {\n    formatAuthors(authors) {\n      if (!authors || authors.length === 0) return 'Êú™Áü•';\n      return authors.join(', ');\n    },\n    highlightKeywords(text) {\n      if (!text || !this.searchQuery) return text;\n\n      // ÁÆÄÂçïÁöÑÂÖ≥ÈîÆËØçÈ´ò‰∫ÆÂÆûÁé∞\n      const keywords = this.searchQuery.split(' ').filter(k => k.trim() !== '');\n      let highlightedText = text;\n      keywords.forEach(keyword => {\n        const regex = new RegExp(keyword, 'gi');\n        highlightedText = highlightedText.replace(regex, match => `<span class=\"highlight\">${match}</span>`);\n      });\n      return highlightedText;\n    },\n    toggleGraph() {\n      this.isGraphVisible = !this.isGraphVisible;\n      this.$emit('toggle-graph', this.isGraphVisible);\n    }\n  }\n};","map":{"version":3,"names":["name","props","selectedItem","type","Object","default","searchQuery","String","data","isGraphVisible","methods","formatAuthors","authors","length","join","highlightKeywords","text","keywords","split","filter","k","trim","highlightedText","forEach","keyword","regex","RegExp","replace","match","toggleGraph","$emit"],"sources":["D:\\FreeConnectedPapers\\frontend\\src\\components\\QAPanel.vue"],"sourcesContent":["<template>\r\n  <div class=\"detail-panel\">\r\n    <div class=\"panel-header\">\r\n      <h2>ËØ¶ÁªÜ‰ø°ÊÅØ</h2>\r\n    </div>\r\n    \r\n    <div v-if=\"selectedItem\" class=\"detail-content\">\r\n      <div class=\"detail-section basic-info\">\r\n        <h3>{{ selectedItem.title }}</h3>\r\n        \r\n        <div class=\"info-row\" v-if=\"selectedItem.authors\">\r\n          <span class=\"label\">‰ΩúËÄÖÔºö</span>\r\n          <span>{{ formatAuthors(selectedItem.authors) }}</span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\" v-if=\"selectedItem.year\">\r\n          <span class=\"label\">Âπ¥‰ªΩÔºö</span>\r\n          <span>{{ selectedItem.year }}</span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\" v-if=\"selectedItem.publisher\">\r\n          <span class=\"label\">Âá∫ÁâàÁ§æÔºö</span>\r\n          <span>{{ selectedItem.publisher }}</span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\" v-if=\"selectedItem.journal\">\r\n          <span class=\"label\">ÊúüÂàäÔºö</span>\r\n          <span>{{ selectedItem.journal }}</span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\" v-if=\"selectedItem.hospital\">\r\n          <span class=\"label\">ÂåªÈô¢Ôºö</span>\r\n          <span>{{ selectedItem.hospital }}</span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\" v-if=\"selectedItem.organization\">\r\n          <span class=\"label\">ÁªÑÁªáÔºö</span>\r\n          <span>{{ selectedItem.organization }}</span>\r\n        </div>\r\n        \r\n        <div class=\"info-row\" v-if=\"selectedItem.keywords\">\r\n          <span class=\"label\">ÂÖ≥ÈîÆËØçÔºö</span>\r\n          <div class=\"keywords\">\r\n            <span v-for=\"(keyword, idx) in selectedItem.keywords\" :key=\"idx\" class=\"keyword\">\r\n              {{ keyword }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"detail-section content-section\">\r\n        <h4>Áõ∏ÂÖ≥ÂÜÖÂÆπ</h4>\r\n        \r\n        <!-- ÊïôÊùêÂÜÖÂÆπ -->\r\n        <div v-if=\"selectedItem.sourceType === 'textbook' && selectedItem.sections\">\r\n          <div v-for=\"(section, idx) in selectedItem.sections\" :key=\"idx\" class=\"content-block\">\r\n            <div class=\"section-title\">{{ section.title }}</div>\r\n            <div class=\"section-content\" v-html=\"highlightKeywords(section.content)\"></div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- ËÆ∫ÊñáÊëòË¶Å -->\r\n        <div v-if=\"selectedItem.sourceType === 'paper' && selectedItem.abstract\" class=\"content-block\">\r\n          <div class=\"section-title\">ÊëòË¶Å</div>\r\n          <div class=\"section-content\" v-html=\"highlightKeywords(selectedItem.abstract)\"></div>\r\n        </div>\r\n        \r\n        <!-- ÁîµÂ≠êÁóÖÂéÜÊëòË¶Å -->\r\n        <div v-if=\"selectedItem.sourceType === 'emr' && selectedItem.summary\" class=\"content-block\">\r\n          <div class=\"section-title\">ÊëòË¶Å</div>\r\n          <div class=\"section-content\" v-html=\"highlightKeywords(selectedItem.summary)\"></div>\r\n        </div>\r\n        \r\n        <!-- ‰∏¥Â∫äÊåáÂçóÊé®Ëçê -->\r\n        <div v-if=\"selectedItem.sourceType === 'guideline' && selectedItem.recommendations\">\r\n          <div class=\"section-title\">Êé®ËçêÊÑèËßÅ</div>\r\n          <ul class=\"recommendations-list\">\r\n            <li v-for=\"(rec, idx) in selectedItem.recommendations\" :key=\"idx\" v-html=\"highlightKeywords(rec)\"></li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-else class=\"no-selection\">\r\n      <div class=\"empty-state\">\r\n        <div class=\"empty-icon\">üìÑ</div>\r\n        <p>ËØ∑‰ªéÂ∑¶‰æßÈÄâÊã©‰∏ÄÈ°πÂÜÖÂÆπÊü•ÁúãËØ¶ÊÉÖ</p>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"graph-toggle\">\r\n      <button @click=\"toggleGraph\" class=\"toggle-button\">\r\n        {{ isGraphVisible ? 'ÈöêËóèÁü•ËØÜÂõæË∞±' : 'ÊòæÁ§∫Áü•ËØÜÂõæË∞±' }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'DetailPanel',\r\n  props: {\r\n    selectedItem: {\r\n      type: Object,\r\n      default: null\r\n    },\r\n    searchQuery: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isGraphVisible: false\r\n    }\r\n  },\r\n  methods: {\r\n    formatAuthors(authors) {\r\n      if (!authors || authors.length === 0) return 'Êú™Áü•';\r\n      return authors.join(', ');\r\n    },\r\n    \r\n    highlightKeywords(text) {\r\n      if (!text || !this.searchQuery) return text;\r\n      \r\n      // ÁÆÄÂçïÁöÑÂÖ≥ÈîÆËØçÈ´ò‰∫ÆÂÆûÁé∞\r\n      const keywords = this.searchQuery.split(' ').filter(k => k.trim() !== '');\r\n      let highlightedText = text;\r\n      \r\n      keywords.forEach(keyword => {\r\n        const regex = new RegExp(keyword, 'gi');\r\n        highlightedText = highlightedText.replace(regex, match => \r\n          `<span class=\"highlight\">${match}</span>`\r\n        );\r\n      });\r\n      \r\n      return highlightedText;\r\n    },\r\n    \r\n    toggleGraph() {\r\n      this.isGraphVisible = !this.isGraphVisible;\r\n      this.$emit('toggle-graph', this.isGraphVisible);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.detail-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  background-color: white;\r\n  position: relative;\r\n}\r\n\r\n.panel-header {\r\n  padding: 1rem;\r\n  border-bottom: 1px solid #eee;\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.panel-header h2 {\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #444;\r\n  margin: 0;\r\n}\r\n\r\n.detail-content {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  padding: 1rem;\r\n}\r\n\r\n.detail-section {\r\n  margin-bottom: 1.5rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.detail-section:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.basic-info h3 {\r\n  margin-top: 0;\r\n  margin-bottom: 1rem;\r\n  color: #333;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.info-row {\r\n  margin-bottom: 0.5rem;\r\n  display: flex;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.label {\r\n  font-weight: 500;\r\n  color: #666;\r\n  min-width: 70px;\r\n}\r\n\r\n.keywords {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.keyword {\r\n  background-color: #e6f3f7;\r\n  color: #2a7d8b;\r\n  padding: 0.2rem 0.5rem;\r\n  border-radius: 3px;\r\n  font-size: 0.8rem;\r\n}\r\n\r\n.content-section h4 {\r\n  margin-top: 0;\r\n  margin-bottom: 1rem;\r\n  color: #444;\r\n  font-size: 1rem;\r\n}\r\n\r\n.content-block {\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.section-title {\r\n  font-weight: 500;\r\n  color: #555;\r\n  margin-bottom: 0.5rem;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.section-content {\r\n  line-height: 1.6;\r\n  color: #333;\r\n  font-size: 0.9rem;\r\n  text-align: justify;\r\n}\r\n\r\n.recommendations-list {\r\n  padding-left: 1.5rem;\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.recommendations-list li {\r\n  margin-bottom: 0.5rem;\r\n  line-height: 1.5;\r\n}\r\n\r\n.no-selection {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  color: #888;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 3rem;\r\n  margin-bottom: 1rem;\r\n  color: #ccc;\r\n}\r\n\r\n.graph-toggle {\r\n  padding: 1rem;\r\n  border-top: 1px solid #eee;\r\n  text-align: center;\r\n}\r\n\r\n.toggle-button {\r\n  background-color: #2a7d8b;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 0.6rem 1.2rem;\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.toggle-button:hover {\r\n  background-color: #1a6575;\r\n}\r\n\r\n/* ÂÖ≥ÈîÆËØçÈ´ò‰∫ÆÊ†∑Âºè */\r\n:deep(.highlight) {\r\n  background-color: #ffeb3b;\r\n  color: #333;\r\n  padding: 0 2px;\r\n  border-radius: 2px;\r\n  font-weight: 500;\r\n}\r\n</style> "],"mappings":"AAmGA,eAAe;EACbA,IAAI,EAAE,aAAa;EACnBC,KAAK,EAAE;IACLC,YAAY,EAAE;MACZC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,WAAW,EAAE;MACXH,IAAI,EAAEI,MAAM;MACZF,OAAO,EAAE;IACX;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE;IAClB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAACC,OAAO,EAAE;MACrB,IAAI,CAACA,OAAM,IAAKA,OAAO,CAACC,MAAK,KAAM,CAAC,EAAE,OAAO,IAAI;MACjD,OAAOD,OAAO,CAACE,IAAI,CAAC,IAAI,CAAC;IAC3B,CAAC;IAEDC,iBAAiBA,CAACC,IAAI,EAAE;MACtB,IAAI,CAACA,IAAG,IAAK,CAAC,IAAI,CAACV,WAAW,EAAE,OAAOU,IAAI;;MAE3C;MACA,MAAMC,QAAO,GAAI,IAAI,CAACX,WAAW,CAACY,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,CAAA,IAAKA,CAAC,CAACC,IAAI,CAAC,MAAM,EAAE,CAAC;MACzE,IAAIC,eAAc,GAAIN,IAAI;MAE1BC,QAAQ,CAACM,OAAO,CAACC,OAAM,IAAK;QAC1B,MAAMC,KAAI,GAAI,IAAIC,MAAM,CAACF,OAAO,EAAE,IAAI,CAAC;QACvCF,eAAc,GAAIA,eAAe,CAACK,OAAO,CAACF,KAAK,EAAEG,KAAI,IACnD,2BAA2BA,KAAK,SAClC,CAAC;MACH,CAAC,CAAC;MAEF,OAAON,eAAe;IACxB,CAAC;IAEDO,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACpB,cAAa,GAAI,CAAC,IAAI,CAACA,cAAc;MAC1C,IAAI,CAACqB,KAAK,CAAC,cAAc,EAAE,IAAI,CAACrB,cAAc,CAAC;IACjD;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}